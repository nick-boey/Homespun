@using Homespun.Features.GitHub
@using Homespun.Features.PullRequests
@using Homespun.Components.Shared

<div class="showcase-section">
    <h3>In Progress</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR with checks running</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_inProgressStatus" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Ready for Review</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR awaiting review with passing checks</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_readyForReviewStatus" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Checks Failing</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR with failing CI checks</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_checksFailingStatus" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Changes Requested</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR with review feedback</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_changesRequestedStatus" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Approved</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR approved by reviewers</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_approvedStatus" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Ready to Merge</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR ready for merging - all checks passed and approved</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_readyToMergeStatus" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Merge Conflicts</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR with merge conflicts</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_conflictStatus" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Merged</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR that has been merged</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_mergedStatus" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Closed</h3>
    <div class="showcase-item">
        <div class="showcase-label">PR closed without merging</div>
        <div class="showcase-preview">
            <PrStatusBadges Status="@_closedStatus" />
        </div>
    </div>
</div>

@code {
    private IssuePullRequestStatus _inProgressStatus = new()
    {
        PrNumber = 42,
        PrUrl = "https://github.com/example/repo/pull/42",
        BranchName = "feature/add-auth",
        Status = PullRequestStatus.InProgress,
        ChecksPassing = null,
        IsApproved = false,
        ApprovalCount = 0
    };

    private IssuePullRequestStatus _readyForReviewStatus = new()
    {
        PrNumber = 43,
        PrUrl = "https://github.com/example/repo/pull/43",
        BranchName = "feature/dashboard",
        Status = PullRequestStatus.ReadyForReview,
        ChecksPassing = true,
        IsApproved = false,
        ApprovalCount = 0
    };

    private IssuePullRequestStatus _checksFailingStatus = new()
    {
        PrNumber = 44,
        PrUrl = "https://github.com/example/repo/pull/44",
        BranchName = "fix/login-bug",
        Status = PullRequestStatus.ChecksFailing,
        ChecksPassing = false,
        IsApproved = false,
        ApprovalCount = 0
    };

    private IssuePullRequestStatus _changesRequestedStatus = new()
    {
        PrNumber = 45,
        PrUrl = "https://github.com/example/repo/pull/45",
        BranchName = "feature/settings",
        Status = PullRequestStatus.ReadyForReview,
        ChecksPassing = true,
        IsApproved = false,
        ApprovalCount = 0,
        ChangesRequestedCount = 2
    };

    private IssuePullRequestStatus _approvedStatus = new()
    {
        PrNumber = 46,
        PrUrl = "https://github.com/example/repo/pull/46",
        BranchName = "feature/notifications",
        Status = PullRequestStatus.ReadyForReview,
        ChecksPassing = true,
        IsApproved = true,
        ApprovalCount = 2
    };

    private IssuePullRequestStatus _readyToMergeStatus = new()
    {
        PrNumber = 47,
        PrUrl = "https://github.com/example/repo/pull/47",
        BranchName = "feature/search",
        Status = PullRequestStatus.ReadyForMerging,
        ChecksPassing = true,
        IsApproved = true,
        ApprovalCount = 2
    };

    private IssuePullRequestStatus _conflictStatus = new()
    {
        PrNumber = 48,
        PrUrl = "https://github.com/example/repo/pull/48",
        BranchName = "feature/api-v2",
        Status = PullRequestStatus.Conflict,
        ChecksPassing = true,
        IsApproved = true,
        ApprovalCount = 1
    };

    private IssuePullRequestStatus _mergedStatus = new()
    {
        PrNumber = 49,
        PrUrl = "https://github.com/example/repo/pull/49",
        BranchName = "feature/dark-mode",
        Status = PullRequestStatus.Merged,
        ChecksPassing = true,
        IsApproved = true,
        ApprovalCount = 2
    };

    private IssuePullRequestStatus _closedStatus = new()
    {
        PrNumber = 50,
        PrUrl = "https://github.com/example/repo/pull/50",
        BranchName = "feature/abandoned",
        Status = PullRequestStatus.Closed,
        ChecksPassing = null,
        IsApproved = false,
        ApprovalCount = 0
    };
}
