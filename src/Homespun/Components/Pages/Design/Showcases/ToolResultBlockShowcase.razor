@using Homespun.Components.Shared.Chat

<div class="showcase-section">
    <h3>File Content Result</h3>
    <div class="showcase-item">
        <div class="showcase-label">Result from reading a file</div>
        <div class="showcase-preview">
            <ToolResultBlock Text="@_fileContent" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Command Output</h3>
    <div class="showcase-item">
        <div class="showcase-label">Result from a bash command</div>
        <div class="showcase-preview">
            <ToolResultBlock Text="@_commandOutput" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Short Result</h3>
    <div class="showcase-item">
        <div class="showcase-label">Simple success message</div>
        <div class="showcase-preview">
            <ToolResultBlock Text="File successfully written to /src/components/Button.tsx" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Error Result</h3>
    <div class="showcase-item">
        <div class="showcase-label">Error output from a failed command</div>
        <div class="showcase-preview">
            <ToolResultBlock Text="@_errorOutput" />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Search Results</h3>
    <div class="showcase-item">
        <div class="showcase-label">Result from a grep/search operation</div>
        <div class="showcase-preview">
            <ToolResultBlock Text="@_searchResults" />
        </div>
    </div>
</div>

@code {
    private string _fileContent = """
        export const login = async (email: string, password: string) => {
          const response = await fetch('/api/auth/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email, password })
          });
          return response.json();
        };
        """;

    private string _commandOutput = """
        > npm run test -- --coverage

        PASS  src/components/Button.test.tsx
        PASS  src/utils/format.test.ts
        PASS  src/services/auth.test.ts

        Test Suites: 3 passed, 3 total
        Tests:       12 passed, 12 total
        Coverage:    87.5%
        """;

    private string _errorOutput = """
        error: ENOENT: no such file or directory, open '/src/missing-file.ts'
        at Object.openSync (node:fs:603:3)
        at Object.readFileSync (node:fs:471:35)
        """;

    private string _searchResults = """
        src/components/Login.tsx:15:    const handleSubmit = async (e: FormEvent) => {
        src/components/Login.tsx:23:    await login(email, password);
        src/services/auth.ts:8:         export const login = async (email: string, password: string) => {
        src/hooks/useAuth.ts:12:        const { login, logout } = useContext(AuthContext);
        """;
}
