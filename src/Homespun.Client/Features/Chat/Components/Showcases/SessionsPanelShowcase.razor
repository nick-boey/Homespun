@*
    SessionsPanel depends on SignalR and session services.
    This showcase provides a description of its features.
*@

<div class="showcase-section">
    <h3>Component Overview</h3>
    <div class="showcase-item">
        <div class="showcase-preview">
            <BbAlert Variant="AlertVariant.Info">
                <BbAlertDescription>
                    <strong>SessionsPanel</strong> is a unified panel for managing Claude Code agent sessions.
                    It displays session information with real-time updates via SignalR.
                </BbAlertDescription>
            </BbAlert>
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Key Features</h3>
    <div class="showcase-item">
        <div class="showcase-preview">
            <ul class="list-unstyled mb-0">
                <li class="mb-2">
                    <BbBadge Variant="BadgeVariant.Default" Class="me-2">Unified</BbBadge>
                    Single component for both global and project-specific views
                </li>
                <li class="mb-2">
                    <BbBadge Class="bg-blue-500 text-white border-transparent me-2">Grouping</BbBadge>
                    Groups by project (global) or by status (project-specific)
                </li>
                <li class="mb-2">
                    <BbBadge Class="bg-green-600 text-white border-transparent me-2">Real-time</BbBadge>
                    SignalR integration for live status updates
                </li>
                <li class="mb-2">
                    <BbBadge Variant="BadgeVariant.Destructive" Class="me-2">Stop</BbBadge>
                    Ability to stop running sessions
                </li>
                <li class="mb-2">
                    <BbBadge Variant="BadgeVariant.Secondary" Class="me-2">Navigate</BbBadge>
                    Quick access to session chat interface
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>View Modes</h3>
    <div class="showcase-item">
        <div class="showcase-label">Global View (no ProjectId parameter)</div>
        <div class="showcase-preview">
            <BbCard style="max-width: 500px;">
                <BbCardHeader Class="d-flex justify-content-between align-items-center">
                    <BbCardTitle>Project Alpha</BbCardTitle>
                    <BbBadge Variant="BadgeVariant.Secondary">2 sessions</BbBadge>
                </BbCardHeader>
                <BbCardContent>
                    <p class="text-text-muted text-sm mb-0">
                        Sessions are grouped by project name and sorted by status priority within each group.
                    </p>
                </BbCardContent>
            </BbCard>
        </div>
    </div>

    <div class="showcase-item">
        <div class="showcase-label">Project View (with ProjectId parameter)</div>
        <div class="showcase-preview">
            <BbCard style="max-width: 500px;">
                <BbCardHeader Class="d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center gap-2">
                        <span class="status-dot bg-success"></span>
                        <BbCardTitle>Working</BbCardTitle>
                    </div>
                    <BbBadge Variant="BadgeVariant.Secondary">3 sessions</BbBadge>
                </BbCardHeader>
                <BbCardContent>
                    <p class="text-text-muted text-sm mb-0">
                        Sessions are grouped by status (Plan Ready, Question, Waiting, Working, etc.) and sorted by recent activity.
                    </p>
                </BbCardContent>
            </BbCard>
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Session Card States</h3>
    <div class="showcase-item">
        <div class="showcase-label">Session card with full details</div>
        <div class="showcase-preview">
            <BbCard style="max-width: 400px;">
                <BbCardHeader Class="d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center gap-2">
                        <BbBadge Class="bg-amber-500 text-white border-transparent">Issue</BbBadge>
                        <BbCardTitle>Fix authentication bug</BbCardTitle>
                    </div>
                    <span class="status-dot bg-success" style="width: 10px; height: 10px; border-radius: 50%;"></span>
                </BbCardHeader>
                <BbCardContent>
                    <div class="mb-2 small">
                        <span class="text-text-muted">Mode:</span>
                        <BbBadge Class="bg-green-600 text-white border-transparent ms-1">Build</BbBadge>
                    </div>
                    <div class="mb-2 small">
                        <span class="text-text-muted">Status:</span>
                        <BbBadge Class="bg-green-600 text-white border-transparent ms-1">Working</BbBadge>
                    </div>
                    <div class="mb-2 small">
                        <span class="text-text-muted">Started:</span>
                        <span class="ms-1">15m 30s ago</span>
                    </div>
                    <div class="mb-2 small">
                        <span class="text-text-muted">Messages:</span>
                        <span class="ms-1">42</span>
                    </div>
                </BbCardContent>
                <BbCardFooter Class="d-flex gap-2">
                    <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Small" Href="#">
                        <LucideIcon Name="message-circle" Size="14" Class="me-1" />Chat
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Destructive" Size="ButtonSize.Small">
                        <LucideIcon Name="stop-circle" Size="14" Class="me-1" />Stop
                    </BbButton>
                </BbCardFooter>
            </BbCard>
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Status Priority Order</h3>
    <div class="showcase-item">
        <div class="showcase-preview">
            <ol class="mb-0 small">
                <li><strong>Plan Ready</strong> - Requires user approval to proceed</li>
                <li><strong>Question</strong> - Waiting for user to answer a question</li>
                <li><strong>Waiting</strong> - Ready for user input</li>
                <li><strong>Working</strong> - Actively processing</li>
                <li><strong>Starting</strong> - Session initializing</li>
                <li><strong>Running Hooks</strong> - Executing pre/post hooks</li>
                <li><strong>Stopped</strong> - Session terminated</li>
                <li><strong>Error</strong> - Session encountered an error</li>
            </ol>
        </div>
    </div>
</div>

<style>
    .status-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        display: inline-block;
    }
</style>

@code {
}
