
<div class="web-result @(Data.IsError ? "error" : "")">
    @if (!string.IsNullOrEmpty(Data.Url))
    {
        <div class="web-url">
            <span class="label">URL:</span>
            <a href="@Data.Url" target="_blank" rel="noopener noreferrer">@TruncateUrl(Data.Url)</a>
        </div>
    }
    <div class="web-content">
        <pre>@Data.Content</pre>
    </div>
</div>

<style>
    .web-result {
        font-size: 0.75rem;
    }

    .web-result.error {
        border-left: 3px solid #ef4444;
        padding-left: var(--spacing-sm);
    }

    .web-url {
        display: flex;
        align-items: baseline;
        gap: var(--spacing-sm);
        margin-bottom: var(--spacing-xs);
    }

    .web-url .label {
        color: var(--text-muted);
        font-size: 0.6875rem;
        flex-shrink: 0;
    }

    .web-url a {
        color: #3b82f6;
        text-decoration: none;
        font-family: var(--font-mono, monospace);
        font-size: 0.75rem;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .web-url a:hover {
        text-decoration: underline;
    }

    .web-content {
        max-height: 300px;
        overflow-y: auto;
    }

    .web-content pre {
        margin: 0;
        font-family: var(--font-mono, monospace);
        font-size: 0.75rem;
        white-space: pre-wrap;
        word-break: break-all;
        color: var(--text-muted);
    }
</style>

@code {
    [Parameter]
    public required WebToolData Data { get; set; }

    private static string TruncateUrl(string url)
    {
        if (url.Length <= 80)
            return url;
        return url[..77] + "...";
    }
}
