
<div class="write-result @Data.Operation">
    <div class="operation-icon">
        @switch (Data.Operation)
        {
            case "created":
                <span title="File created">âœ…</span>
                break;
            case "updated" or "written":
                <span title="File updated">ğŸ“</span>
                break;
            case "edited":
                <span title="File edited">âœï¸</span>
                break;
            case "deleted":
                <span title="File deleted">ğŸ—‘ï¸</span>
                break;
            default:
                <span title="File modified">ğŸ“„</span>
                break;
        }
    </div>
    <div class="operation-details">
        <span class="file-path" title="@Data.FilePath">@Data.FilePath</span>
        @if (Data.LinesWritten.HasValue)
        {
            <span class="lines-written">@Data.LinesWritten line@(Data.LinesWritten == 1 ? "" : "s")</span>
        }
    </div>
    @if (!string.IsNullOrWhiteSpace(Data.Message))
    {
        <div class="operation-message">
            <pre>@Data.Message</pre>
        </div>
    }
</div>

<style>
    .write-result {
        display: flex;
        align-items: flex-start;
        gap: var(--spacing-sm);
        font-size: 0.75rem;
    }

    .operation-icon {
        flex-shrink: 0;
        font-size: 0.875rem;
        line-height: 1.4;
    }

    .operation-details {
        display: flex;
        align-items: baseline;
        gap: var(--spacing-sm);
        min-width: 0;
        flex: 1;
    }

    .operation-details .file-path {
        font-family: var(--font-mono, monospace);
        font-weight: 600;
        color: var(--text-primary);
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .lines-written {
        color: var(--text-muted);
        font-size: 0.6875rem;
        flex-shrink: 0;
    }

    .operation-message {
        margin-top: var(--spacing-xs);
    }

    .operation-message pre {
        margin: 0;
        font-family: var(--font-mono, monospace);
        font-size: 0.75rem;
        color: var(--text-muted);
        white-space: pre-wrap;
        word-break: break-all;
    }
</style>

@code {
    [Parameter]
    public required WriteToolData Data { get; set; }
}
