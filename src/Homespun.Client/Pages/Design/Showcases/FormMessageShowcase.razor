<div class="showcase-section">
    <h3>Error Message</h3>
    <div class="showcase-item">
        <div class="showcase-label">Error alert for validation failures or operation errors</div>
        <div class="showcase-preview">
            <FormMessage
                Type="FormMessageType.Error"
                Message="An error occurred while saving the project. Please try again." />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Success Message</h3>
    <div class="showcase-item">
        <div class="showcase-label">Success alert for completed operations</div>
        <div class="showcase-preview">
            <FormMessage
                Type="FormMessageType.Success"
                Message="Project saved successfully." />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Warning Message</h3>
    <div class="showcase-item">
        <div class="showcase-label">Warning alert for important notices</div>
        <div class="showcase-preview">
            <FormMessage
                Type="FormMessageType.Warning"
                Message="This action cannot be undone. Please review your changes carefully." />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Info Message</h3>
    <div class="showcase-item">
        <div class="showcase-label">Info alert for neutral information</div>
        <div class="showcase-preview">
            <FormMessage
                Type="FormMessageType.Info"
                Message="Your session will expire in 5 minutes. Save your work to avoid losing changes." />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Message with Title</h3>
    <div class="showcase-item">
        <div class="showcase-label">Alert with both title and message</div>
        <div class="showcase-preview">
            <FormMessage
                Type="FormMessageType.Error"
                Title="Validation Error"
                Message="The repository name contains invalid characters. Please use only letters, numbers, and hyphens." />
        </div>
    </div>
    <div class="showcase-item">
        <div class="showcase-label">Success with title</div>
        <div class="showcase-preview">
            <FormMessage
                Type="FormMessageType.Success"
                Title="Issue Created"
                Message="Issue #42 has been created and assigned to the backlog." />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Dismissible Message</h3>
    <div class="showcase-item">
        <div class="showcase-label">Alert that can be dismissed by the user</div>
        <div class="showcase-preview">
            @if (!_dismissed)
            {
                <FormMessage
                    Type="FormMessageType.Info"
                    Title="Tip"
                    Message="You can use keyboard shortcuts to speed up your workflow. Press ? for help."
                    IsDismissible="true"
                    OnDismiss="HandleDismiss" />
            }
            else
            {
                <button class="btn btn-sm btn-secondary" @onclick="ResetDismiss">Show Again</button>
            }
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>All Variants</h3>
    <div class="showcase-item">
        <div class="showcase-label">Comparison of all message types</div>
        <div class="showcase-preview" style="display: flex; flex-direction: column; gap: var(--spacing-sm);">
            <FormMessage
                Type="FormMessageType.Error"
                Message="This is an error message." />
            <FormMessage
                Type="FormMessageType.Success"
                Message="This is a success message." />
            <FormMessage
                Type="FormMessageType.Warning"
                Message="This is a warning message." />
            <FormMessage
                Type="FormMessageType.Info"
                Message="This is an info message." />
        </div>
    </div>
</div>

<div class="showcase-section">
    <h3>Empty Message (Not Rendered)</h3>
    <div class="showcase-item">
        <div class="showcase-label">Component renders nothing when message is empty or null</div>
        <div class="showcase-preview">
            <div class="text-text-muted text-sm">No message rendered below:</div>
            <FormMessage Type="FormMessageType.Error" Message="" />
            <FormMessage Type="FormMessageType.Error" Message="@null" />
            <div class="text-text-muted text-sm mt-2">(End of preview area)</div>
        </div>
    </div>
</div>

@code {
    private bool _dismissed = false;

    private void HandleDismiss()
    {
        _dismissed = true;
    }

    private void ResetDismiss()
    {
        _dismissed = false;
    }
}
